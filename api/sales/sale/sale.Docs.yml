paths:
  '/sales':
    post:
      tags:
        - sales.sales
      summary: Crear un nueva venta
      responses:
        '201':
          description: Successful operation
      requestBody:
        $ref: '#/components/requestBodies/Sale'
    get:
      tags:
        - sales.sales
      summary: Listar ventas
      parameters:
        - $ref: '#/components/parameters/pagePagination'
        - $ref: '#/components/parameters/pageSizePagination'
        - $ref: '#/components/parameters/status'
      responses:
        '200':
          description: Successful operation
components:
  requestBodies:
    Sale:
      content:
        application/json:
          schema:
            type: object
            properties:
              proformaId:
                type: integer
                format: int32
                description: Id de la proforma
              type:
                type: string
                description: Tipo de venta, si es presencial (STORE) o no presencial (REMOTE)
                enum:
                  - STORE
                  - REMOTE
              paymentType:
                type: string
                description: Tipo de pago de la venta. Si se hace con crédito (CREDIT) o es al contado (CASH)
                enum:
                  - CREDIT
                  - CASH
              billingType:
                type: string
                description: Tipo de facturacion. Si es consignacion (CONSIGNMENT) o venta (SALE)
                enum:
                  - CONSIGNMENT
                  - SALE
              dispatchmentType:
                type: string
                description: Tipo de despacho. Si será recojo en tienda (PICK_UP) o delivery (DELIVERY)
                enum:
                  - DELIVERY
                  - PICK_UP
              credit:
                type: integer
                format: int32
                description: Monto de credito. El valor debe tener una precision de 2 decimales
              deliveryAgencyId:
                type: integer
                description: Id de la agencia en caso el desapacho sea delivery
              paymentMethod:
                type: string
                enum:
                  - Efectivo
                  - Tarjeta
                  - Depósito
              voucherCode:
                type: string
              voucherImage:
                type: string
              bankAccountId:
                type: integer
          examples:
            Venta en tienda, al contado y delivery:
              value:
                proformaId: 3
                type: STORE
                paymentType: CASH
                billingType: SALE
                dispatchmentType: DELIVERY
                deliveryAgencyId: 1
            Venta en tienda, con credito, recojo en tienda:
              value:
                proformaId: 4
                type: STORE
                paymentType: CREDIT
                billingType: SALE
                dispatchmentType: PICK_UP
                credit: 1000
            Venta no presencial, incluyendo datos de deposito:
              value:
                proformaId: 8
                type: REMOTE
                paymentType: CASH
                billingType: SALE
                dispatchmentType: PICK_UP
                voucherCode: '123456789'
                voucherImage: 'Aqui va la imagen en base 64'
                paymentMethod: Depósito
                bankAccountId: 1
      required: true
  parameters:
    status:
      name: status
      in: query
      description: Estado de la venta, si adeuda o esta pagada
      required: false
      schema:
        type: string
        enum:
          - DUE
          - PAID
